@tailwind base;
@tailwind components;
@tailwind utilities;

/* Editor Container */
.trix-container {
    @apply w-full;
}

/* Editor Styling */
trix-editor.prose {
    @apply min-h-[200px] max-h-[500px] overflow-y-auto p-4 border border-gray-200 rounded-lg;
    @apply bg-white text-gray-800 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100;
    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

/* Toolbar Styling */
trix-toolbar {
    @apply bg-gray-50 border border-gray-200 rounded-t-lg;
    @apply dark:bg-gray-700 dark:border-gray-600;
    @apply transition-colors duration-200;
    @apply shadow-sm;
}

trix-toolbar .trix-button-row {
    @apply flex flex-wrap gap-1 p-1;
}

trix-toolbar .trix-button-group {
    @apply border-none m-0 flex gap-0.5;
    @apply dark:border-gray-600;
}

trix-toolbar .trix-button {
    @apply border-none bg-transparent text-gray-700 dark:text-gray-300;
    @apply px-3 py-2 rounded-md;
    @apply transition-colors duration-150;
    @apply hover:bg-gray-100 dark:hover:bg-gray-600;
}

trix-toolbar .trix-button:not(:first-child) {
    @apply ml-0;
}

trix-toolbar .trix-button.trix-active {
    @apply bg-gray-200 text-gray-900 dark:bg-gray-500 dark:text-white;
}

trix-toolbar .trix-button.trix-button--icon::before {
    @apply opacity-80 dark:opacity-90;
}

trix-toolbar .trix-button.trix-button--icon:hover::before {
    @apply opacity-100;
}

trix-toolbar .trix-button.trix-button--icon.trix-active::before {
    @apply opacity-100;
}

/* Dialog Styling */
trix-toolbar .trix-dialog {
    @apply bg-white border border-gray-200 rounded shadow-lg;
    @apply dark:bg-gray-700 dark:border-gray-600;
}

trix-toolbar .trix-dialog__link-fields {
    @apply p-4;
}

trix-toolbar .trix-input--dialog {
    @apply bg-white border border-gray-300 rounded px-3 py-2 w-full;
    @apply dark:bg-gray-600 dark:border-gray-500 dark:text-white;
    @apply focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

trix-toolbar .trix-button--dialog {
    @apply bg-gray-100 text-gray-800 px-4 py-2 rounded ml-2;
    @apply dark:bg-gray-600 dark:text-white;
    @apply hover:bg-gray-200 dark:hover:bg-gray-500;
}

/* Content Styling - Manual Prose-like Styling */
trix-editor.prose {
    @apply max-w-none;
}

trix-editor.prose h1 {
    @apply text-2xl font-bold my-4 dark:text-white;
}

trix-editor.prose h2 {
    @apply text-xl font-bold my-3 dark:text-white;
}

trix-editor.prose h3 {
    @apply text-lg font-bold my-2 dark:text-white;
}

trix-editor.prose p {
    @apply my-2 dark:text-gray-300;
}

trix-editor.prose strong {
    @apply font-bold dark:text-white;
}

trix-editor.prose em {
    @apply italic;
}

trix-editor.prose a {
    @apply text-blue-600 underline dark:text-blue-400;
}

trix-editor.prose a:hover {
    @apply text-blue-800 dark:text-blue-300;
}

trix-editor.prose ul {
    @apply list-disc pl-8 my-2 dark:text-gray-300;
}

trix-editor.prose ol {
    @apply list-decimal pl-8 my-2 dark:text-gray-300;
}

trix-editor.prose blockquote {
    @apply border-l-4 border-gray-300 pl-4 my-2 text-gray-600;
    @apply dark:border-gray-500 dark:text-gray-300;
}

trix-editor.prose pre {
    @apply bg-gray-100 p-2 rounded my-2 dark:bg-gray-700 dark:text-gray-100;
}

trix-editor.prose code {
    @apply bg-gray-100 px-1 rounded dark:bg-gray-700 dark:text-gray-100;
}

trix-editor.prose img {
    @apply max-w-full h-auto my-2 rounded-lg border border-gray-200 dark:border-gray-600;
}

/* Custom scrollbar for editor */
trix-editor.prose::-webkit-scrollbar {
    @apply w-2;
}

trix-editor.prose::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-700;
}

trix-editor.prose::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full dark:bg-gray-500;
}

trix-editor.prose::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-400;
}

/* Attachment Styling */
.trix-content .attachment {
    @apply inline-block max-w-full;
}

.trix-content .attachment--preview {
    @apply w-full text-center;
}

.trix-content .attachment--preview .attachment__caption {
    @apply text-sm text-gray-600 dark:text-gray-400;
}

.trix-content .attachment--file {
    @apply text-blue-600 dark:text-blue-400;
}

/* Progress bar for uploads */
.trix-content .attachment__progress {
    @apply h-1 bg-blue-200 dark:bg-blue-900;
}

.trix-content .attachment__progress .attachment__progress__bar {
    @apply bg-blue-500 dark:bg-blue-400;
}
